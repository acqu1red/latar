# Генератор планов квартир

Система для генерации SVG планов квартир на основе загруженных фотографий с использованием GPT Vision API.

## Функциональность

- Загрузка фотографии плана квартиры
- Анализ изображения с помощью GPT Vision API
- Генерация красивого SVG плана с мебелью
- Современный и отзывчивый интерфейс

## Установка и запуск

### Backend

1. Перейдите в папку backend:
```bash
cd backend
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Добавьте ваш OpenAI API ключ в файл `.env`:
```
OPENAI_API_KEY=your_openai_api_key_here
```

5. Запустите сервер:
```bash
npm start
```

Сервер будет доступен на `http://localhost:3001`

### Frontend

1. Перейдите в папку frontend:
```bash
cd frontend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите dev сервер:
```bash
npm run dev
```

Приложение будет доступно на `http://localhost:5173`

## Использование

1. Откройте приложение в браузере
2. Загрузите фотографию плана квартиры
3. Выберите опцию "Без мебели" (пока единственная доступная)
4. Нажмите "Сгенерировать"
5. Получите красивый SVG план

## Технологии

- **Frontend**: React, TypeScript, Vite
- **Backend**: Node.js, Express, Multer
- **AI**: OpenAI GPT-4 Vision API
- **Стили**: CSS3 с градиентами и анимациями

## Структура проекта

```
├── frontend/          # React приложение
│   ├── src/
│   │   ├── App.tsx    # Главный компонент
│   │   ├── App.css    # Стили
│   │   └── config.ts  # Конфигурация API
├── backend/           # Express сервер
│   ├── src/
│   │   ├── generateSvgFromImage.mjs    # Основной модуль генерации
│   │   └── gptVisionAnalyzer.mjs       # Интеграция с GPT Vision
│   ├── furniture.json # Описание мебели и дизайна
│   └── server.mjs     # Express сервер
└── koyeb.yaml        # Конфигурация для Koyeb
```

## Дизайн SVG

Система использует предопределенный дизайн для элементов плана:

- **Стены**: Темно-синий цвет (#2C3E50), толщина 3px
- **Окна**: Голубой пунктир (#87CEEB) с коричневой рамой
- **Двери**: Коричневый цвет (#8B4513) с дугой открытия
- **Мебель**: Различные цвета и иконки согласно furniture.json

## Развертывание

Для развертывания на Koyeb используйте файл `koyeb.yaml` в корне проекта.

## Требования

- Node.js 18+
- OpenAI API ключ
- Современный браузер с поддержкой ES6+