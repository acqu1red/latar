# Генератор планов квартир с ИИ

Система для генерации профессиональных планов квартир на основе загруженных фотографий с использованием локального ИИ.

## Функциональность

- Загрузка фотографии плана квартиры
- Локальная генерация планов без внешних API
- Два режима: план без мебели и план с мебелью
- Профессиональное качество архитектурных чертежей
- Современный и отзывчивый интерфейс
- Полная приватность - данные не покидают ваш компьютер

## Установка и запуск

### Backend

1. Перейдите в папку backend:
```bash
cd backend
```

2. Установите зависимости:
```bash
npm install
```

3. Настройка не требуется - система работает полностью локально!

4. Запустите сервер:
```bash
npm start
```

Сервер будет доступен на `http://localhost:3001`

### Frontend

1. Перейдите в папку frontend:
```bash
cd frontend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите dev сервер:
```bash
npm run dev
```

Приложение будет доступно на `http://localhost:5173`

## Использование

1. Откройте приложение в браузере
2. Загрузите фотографию плана квартиры
3. Выберите тип генерации:
   - **"Фотография (AI)"** - точная копия плана
   - **"План с мебелью (AI)"** - план с добавленной мебелью
4. Нажмите "Сгенерировать"
5. Скачайте результат

## Деплой

### Koyeb (Backend)
1. Подключите репозиторий к Koyeb
2. Выберите папку `backend` как корневую
3. Koyeb автоматически установит зависимости и запустит сервер

### GitHub Pages (Frontend)
1. Соберите фронтенд: `cd frontend && npm run build`
2. Загрузите содержимое папки `dist` в GitHub Pages
3. Настройте CORS в backend для вашего домена

## Преимущества

- ✅ **Без кредитов** - никаких ограничений по использованию
- ✅ **Приватность** - данные не покидают ваш компьютер
- ✅ **Быстрота** - нет задержек на внешние API
- ✅ **Надежность** - работает даже без интернета
- ✅ **Качество** - профессиональные архитектурные чертежи
5. Получите красивый SVG план

## Технологии

- **Frontend**: React, TypeScript, Vite
- **Backend**: Node.js, Express, Multer
- **AI**: OpenAI GPT-4 Vision API
- **Стили**: CSS3 с градиентами и анимациями

## Структура проекта

```
├── frontend/          # React приложение
│   ├── src/
│   │   ├── App.tsx    # Главный компонент
│   │   ├── App.css    # Стили
│   │   └── config.ts  # Конфигурация API
├── backend/           # Express сервер
│   ├── src/
│   │   ├── generateSvgFromImage.mjs    # Основной модуль генерации
│   │   └── gptVisionAnalyzer.mjs       # Интеграция с GPT Vision
│   ├── furniture.json # Описание мебели и дизайна
│   └── server.mjs     # Express сервер
└── koyeb.yaml        # Конфигурация для Koyeb
```

## Дизайн SVG

Система использует предопределенный дизайн для элементов плана:

- **Стены**: Темно-синий цвет (#2C3E50), толщина 3px
- **Окна**: Голубой пунктир (#87CEEB) с коричневой рамой
- **Двери**: Коричневый цвет (#8B4513) с дугой открытия
- **Мебель**: Различные цвета и иконки согласно furniture.json

## Развертывание

Для развертывания на Koyeb используйте файл `koyeb.yaml` в корне проекта.

## Требования

- Node.js 18+
- OpenAI API ключ
- Современный браузер с поддержкой ES6+