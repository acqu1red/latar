# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Replicate API –¥–ª—è Koyeb

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ Koyeb –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ OpenAI API, —Ö–æ—Ç—è –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É ScribbleDiffusion —á–µ—Ä–µ–∑ Replicate API.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ü–æ–ª—É—á–∏—Ç–µ Replicate API —Ç–æ–∫–µ–Ω
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://replicate.com/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª [API Tokens](https://replicate.com/account/api-tokens)
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### 2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Koyeb
1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Koyeb
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å "latar"
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Environment Variables"
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name**: `REPLICATE_API_TOKEN`
   - **Value**: –≤–∞—à —Ç–æ–∫–µ–Ω –æ—Ç Replicate
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Koyeb.

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π:
OPENAI_API_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: true
REPLICATE_API_TOKEN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: true
‚úÖ OpenAI API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚úÖ Replicate API —Ç–æ–∫–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω
```

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### Backend (server.mjs)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `REPLICATE_API_TOKEN`
- –î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/generate-photo`
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –º–æ–¥—É–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ScribbleDiffusion

### Frontend (App.tsx)
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø–ª–∞–Ω/—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `backend/src/scribbleDiffusionGenerator.mjs` - –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Replicate API
- `backend/src/imageAnalyzer.mjs` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Å–∫–∏–∑–æ–≤
- `frontend/src/vite-env.d.ts` - —Ç–∏–ø—ã –¥–ª—è TypeScript

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç:
1. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: "–ü–ª–∞–Ω –∫–≤–∞—Ä—Ç–∏—Ä—ã (SVG)" –∏–ª–∏ "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è (AI)"
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –î–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π: –≤–≤–µ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å–∫–∞—á–∞—Ç—å –µ–≥–æ

## –°—Ç–æ–∏–º–æ—Å—Ç—å
Replicate –≤–∑–∏–º–∞–µ—Ç –ø–ª–∞—Ç—É –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API (–æ–±—ã—á–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–µ–Ω—Ç–æ–≤ –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é).
